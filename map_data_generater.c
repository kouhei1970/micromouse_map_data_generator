/*
マウスのマップデータを作りたい要求は少なからずあると思いますが
そのためＧＵＩプログラムを自作している方々もたくさんいらっしゃいます。
そんな中需要があるかどうかわかりませんが
テキストエディタでマップを描いてデータ化できるプログラムを作りました。
ご活用いただければ幸いです。

Kouhei Ito@Kanazawa

MIT License
*/
#include <stdio.h>

void make_mapdata(void);
unsigned char mapdata[16][16];
//2017 Clasic mouse expart final maze
char smap[33][66]={
    "+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+",//    0
    "|   |                                                           |",//15  1
    "+   +   +   +---+---+---+---+---+---+---+---+---+---+   +   +---+",//    2
    "|       |   |               |               |       |   |       |",//14  3
    "+   +---+   +   +---+---+   +   +---+---+   +   +   +---+---+   +",//    4
    "|           |   |       |       |       |       |           |   |",//13  5
    "+   +---+   +   +   +   +---+---+   +   +---+---+---+---+   +   +",//    6
    "|           |       |               |               |       |   |",//12  7
    "+   +---+---+---+---+---+---+---+---+---+---+---+   +   +---+   +",//    8
    "|   |       |       |           |       |   |       |       |   |",//11  9
    "+   +   +   +   +   +   +   +   +   +   +   +   +---+---+   +   +",//   10
    "|   |   |       |       |   |       |           |           |   |",//10 11
    "+   +   +---+---+---+---+---+---+---+---+---+---+---+   +---+   +",//   12
    "|   |       |           |               |       |           |   |",// 9 13
    "+   +---+   +   +   +---+   +   +---+   +   +   +---+   +---+   +",//   14
    "|   |       |   |       |   |       |       |               |   |",// 8 15
    "+   +   +---+   +---+   +   +   +   +---+---+---+---+   +---+   +",//   16
    "|   |   |       |       |   |       |   |                   |   |",// 7 17
    "+   +   +   +---+   +---+   +---+---+   +   +   +---+---+---+   +",//   18
    "|   |       |           |                   |               |   |",// 6 19
    "+   +---+---+   +---+---+---+---+---+---+---+---+---+---+   +   +",//   20
    "|   |           |       |   |       |   |           |       |   |",// 5 21
    "+   +   +---+---+   +   +   +   +   +   +   +   +---+   +---+   +",//   22
    "|   |       |       |           |           |   |   |       |   |",// 4 23
    "+   +---+   +   +---+---+   +---+---+   +---+   +   +---+   +   +",//   24
    "|   |       |       |   |   |   |   |   |       |           |   |",// 3 25
    "+   +   +---+---+   +   +---+   +   +---+   +---+   +---+---+   +",//   26
    "|   |   |           |           |           |   |   |           |",// 2 27
    "+   +   +   +---+---+   +---+---+---+---+---+   +   +   +   +   +",//   28
    "|       |   |   |   |                               |   |   |   |",// 1 29
    "+   +---+   +   +   +---+---+---+---+---+---+---+---+---+---+   +",//   30
    "|   |                                                           |",// 0 31
    "+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+"//    32
    // 0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
};

void main(void){
    short i,j;
    make_mapdata();
    for (i=0;i<16;i++){
        for (j=0;j<16;j++){
            printf("%02X ",mapdata[15-i][j]);

        }
        printf("\n");
    }
    
}


void make_mapdata(void)
{
    unsigned char i,j;
    unsigned char n_wall,e_wall,s_wall,w_wall;

    for (i=0;i<16;i++){//南北方向
        for (j=0;j<16; j++) {//東西方向
            n_wall = 0x08*(smap[30-2*i][2+4*j]=='-');
            e_wall = 0x04*(smap[31-2*i][4+4*j]=='|');
            s_wall = 0x02*(smap[32-2*i][2+4*j]=='-');
            w_wall = 0x01*(smap[31-2*i][4*j]=='|');
            mapdata[i][j] = n_wall | e_wall | w_wall | s_wall;
        }
    }
}
